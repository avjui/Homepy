<%inherit file="base.html"/>

<%def name="body()">
	<div class="config_hm_interface" align=center>
	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="js/jquery-ui-min.js"></script>
	<script type="text/javascript" src="js/jquery.ui.touch-punch.min.js"></script>
	<link rel="stylesheet" href="css/jquery.css" type="text/css" media="screen"/>
	<link rel="stylesheet" href="css/config_homematic.css" type="text/css" media="screen"/>
		<p>		 
			<lable><h1><u>${title}</u></h1></lable>
			<form action="add">
				<table cellpadding="5">
					<caption><h2><u>Servers</u></h2></caption>
					<tr>
						<td>
							<label><b>Device Type</b></label>
							<br />
							<select name="Company" size="1" style="width:200px">
								<option selected>---</option>
								%for plugin in pluginlist:
									<%
										pluginname = plugin[1]
									%>
									<option>${pluginname}</option>
								%endfor
							</select>
						</td>
						<td>
							<label><b>Interface Serial</b></label>
							<br />
							<input style="width:150px" type="text" name="Serial" id="interface_serial" value='' />
						</td>
						<td>
							<label><b>Interface IP</b></label>
							<br />
							<input style="width:150px" type="text" name="IP" id="interface_ip" value='' />
						</td>						<td>
							<label><b>Interface Name</b></label>
							<br />
							<input style="width:250px" type="text" name="Name" id="interface_name" value='' />
						</td>
						<td class="add_hm_interface" >
							<input type="hidden" name="Type" value="interface"> 
							<input type="hidden" name="Table" value="homeautomation"> 
							<input style="width:70px" type="submit" value="Add">
						</td>
					</tr>
				</table>
			</form>
		</p>
	</div>
	<div id="interfacetable" class="interfacetable">
	<form action="remove">
		<p>
		<table id="interfacesort" class="grid" cellpadding="5" width=80% align=center >
					<thead>
						<tr><th>Manufactur</th><th>Serial</th><th>Name</th><th>Place</th><th>Type</th><th>Action</th></tr>
					</thead>
					<tbody align=center>
						%for device in devicelist:
							%if device[1] == 'interface':
								<%
									print devicelist
									imanufactur = device[0]
									iserial = device[3]
									iname = device[2]
									iip = device[8]
								%>
							<tr><td>${imanufactur}</td><td>${iserial}</td><td>${iname}</td><td>${iip}</td><td class="add_hm_interface" ><input style="width:70px" type="button" onclick="location.href='remove?Table=homeautomation&Serial=${iserial}&Company=${imanufactur}'" value="Remove"></td></tr>
							%endif
						%endfor
					</tbody>
			
				</table>
			<script type="text/javascript">
				$("#sort tbody").sortable().disableSelection();
				
			</script>
		</p>
	</form>
	</div>
	<div class="config_hm_device" align=center>
		<p>
			<form action="add">
			<table cellpadding="5">
				<caption><h2><u>Devices</u></h2></caption>
					<tr>
						<td>
							<label><b>Device Type</b></label>
							<br />
							<select name="Company" size="1" style="width:200px">
								<option selected>---</option>
								%for plugin in pluginlist:
									<%
										pluginname = plugin[1]
									%>
									<option>${pluginname}</option>
								%endfor
							</select>
						</td>
						<td>
							<label><b>Device Serial</b></label>
							<br />
							<input style="width:150px" type="text" name="Serial" id="device_serial" value='' />
						</td>
						<td>
							<label><b>Device Name</b></label>
							<br />
							<input style="width:250px" type="text" name="Name" id="device_name" value='' />
						</td>
						<td>
							<label><b>Device Standort</b></label>
							<br />
							<select name="roomName" size="1" style="width:200px">
								<option selected>--- Please choose a room ---</option>
								%for room in roomlist:
									<%
										rname = room[1]
									%>
									<option>${rname}</option>
								%endfor
							</select>
						</td>
						<td class="add_hm_device" >
							<input type="hidden" name="Type" value="device"> 
							<input type="hidden" name="Table" value="homeautomation"> 
							<input style="width:70px" type="submit" value="Add">
						</td>
					</tr>
			</table>
			</form>
		</p>
	</div>
	<div id="devicetable" class="devicetable">
	<form action="remove">
		<p>
		<table id="interfacesort" class="grid" cellpadding="5" width=100% align=center >
					<thead>
						<tr><th>Manufactur</th><th>Serial</th><th>Name</th><th>Place</th><th>Type</th><th>Hidden</th><th>Remove</th><th>Update</th></tr>
					</thead>
					<tbody align=center>
						%for device in devicelist:
							%if device[1] == 'device':
							<%	
								dcompany = device[0]
								dtype = device[1]
								dname = device[2]
								dserial = device[3]
								droom = device[4]
							%>
								<tr><td>${dcompany}</td>
								    <td>${dserial}</td>
								    <td>${dname}</td>
								    <td>${droom}</td>
								    <td>${dtype}</td> 
								    <td><select name="device_room" size="1" style="width:50px">
									<option>Yes</option>
									<option selected>No</option></td>
								    <td class="add_hm_interface" ><input style="width:70px" type="button" onclick="location.href='remove?Table=homeautomation&Serial=${dserial}&Company=${dcompany}'" value="Remove"></td>
								    <td class="add_hm_interface" ><input style="width:70px" type="button" onclick="location.href=''" value="Upate"></td></tr>
							%endif
						%endfor
					</tbody>
				</table>
			<script type="text/javascript">
				$("#sort tbody").sortable().disableSelection();
				
			</script>
		</p>
	</form>
	</div>
</%def>